url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = "")
)
r <- 1
info <- data_click[r,]
htmltools::HTML(
htmltools::div(class = "xxx",
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = "")
))
htmltools::HTML(
htmltools::div(class = "xxx",
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = "")
)
)
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = "")
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = "")
)
htmltools::HTML(
paste0(htmltools::p(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
htmltools::p(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
htmltools::p(
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
data_click <- data.frame(pais = c("mejico", "mejico"),
estatus = c("uno", "dos"))
htmltools::HTML(
paste0(
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::p(
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
}), collapse = "<br/>")
)
htmltools::HTML(
paste0(
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::p(
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
}) |> unlist(), collapse = "<br/>")
)
htmltools::HTML(
paste0(
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx"
htmltools::HTML(
htmltools::HTML(
paste0(
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
}) |> unlist(), collapse = "<br/>")
)
htmltools::HTML(
paste0(
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
}) |> unlist(), collapse = "")
)
r <- 1
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
})
htmltools::HTML(
paste0(
info <- purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
})
|> unlist(), collapse = "")
)
info <- purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div>
<div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">",
"<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
})
info
info |> paste0(collapse = "<br/>")
info |> unlist() |> paste0(collapse = "<br/>")
info |> unlist()
info
cdmx.shapes:::labels_map
paste0(unlist(purrr::map(seq_along(info),
function(i) {
info[[i]]
})), collapse = "<br/>")
# htmltools::HTML(
#  paste0(
info <- purrr::map(1:nrow(data_click), function(r) {
info <- data_click[r,]
htmltools::div(class = "xxx",
htmltools::HTML(
paste0(
purrr::map(names(info), function(v) {
tx <- paste0("<div class = 'click-body'><div class = 'click-tl'>", v, ":</div> <div class = 'click-info'>", info[[v]], "</div></div>", collapse = "")
if (v == "url") {
url_na <- FALSE
url_na <- is.na(info[[v]])
if (!is.null(separate_row)) {
if (separate_row == "url") {
info <- info |>
tidyr::separate_rows(url, sep = sep_url) |>
tidyr::drop_na(url)
if (nrow(info) == 0) url_na <- TRUE
}
}
if (!url_na) {
tx <- paste0("<div class=", url_class, ">","<a href=", info[[v]]," target='_blank'>",url_name,"</a></div>", collapse = "<br/>")
}
}
tx
}), collapse = ""))
)
})
info
seq_along(info)
info |> htmltools::HTML()
# build
devtools::load_all()
devtools::document()
devtools::install()
# build
devtools::load_all()
devtools::document()
devtools::install()
# build
devtools::load_all()
devtools::document()
devtools::install()
names(iris)
devtools::load_all(".")
data_result <- variable_selection(data = iris,
viz = "bar",
path = "tests/testthat/test_yaml/viz_conf")
View(data_result)
data <- iris
dic <- homodatum::create_dic(data)
names(data) <- dic$id
html_result <- write_html(data = data,
dic = dic,
click = list("species" = "setosa"),
class_title = "click-title",
class_body = "click-text",
id = NULL,
text_result_null  = NULL,
"species")
html_result
?install.packages
install.packages("dplyr", lib = "1..0.9", dependencies = TRUE)
install.packages("dplyr", lib = "1..0.9", dependencies = TRUE)
install.packages("dplyr", lib = "1.0.9", dependencies = TRUE)
install.packages("dplyr", "1.0.9", dependencies = TRUE)
remotes::install_version("dplyr", version = "1.0.9")
